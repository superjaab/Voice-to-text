<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>bet Calculator By Super</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f4f8;
      padding: 30px;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }
    body.dark {
      background: #1c1c1c;
      color: #f0f0f0;
    }
    h2 {
      text-align: center;
      color: #00b4d8;
    }
    .button-group {
      text-align: center;
      margin: 20px 0;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 20px;
      background: #00b4d8;
      color: white;
      font-size: 16px;
      margin: 5px;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:hover {
      background: #0077b6;
    }
    input, select {
      padding: 6px;
      width: 90%;
      border-radius: 6px;
      border: 1px solid #aaa;
      background: #fff;
      color: #000;
    }
    body.dark input, body.dark select {
      background: #333;
      color: #eee;
      border-color: #666;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 20px;
      border-radius: 12px;
      overflow: hidden;
    }
    body.dark table {
      background: #2b2b2b;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }
    body.dark th, body.dark td {
      border-color: #444;
    }
    thead {
      background-color: #caf0f8;
    }
    body.dark thead {
      background-color: #0077b6;
      color: white;
    }
    .profile-buttons {
      text-align: center;
      margin: 10px 0 20px;
    }
    .profile-buttons button {
      padding: 8px 16px;
      margin: 0 4px;
      border: none;
      border-radius: 50%;
      font-size: 16px;
      cursor: pointer;
      background: #e0e0e0;
      color: #333;
      transition: 0.3s;
    }
    body.dark .profile-buttons button {
      background: #555;
      color: white;
    }
    .profile-buttons button.active {
      background: #00b4d8;
      color: white;
      font-weight: bold;
    }
    .bonus-group {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .bonus-value, .diff-note {
      font-size: 0.85em;
      margin-top: 4px;
      color: #007700;
    }
    .diff-note {
      color: #ff5252;
    }
    #totalAllFund, #recommendation {
      font-weight: bold;
      text-align: center;
      margin: 10px 0;
    }
    #savedRecords {
      margin-top: 30px;
      border-top: 2px solid #90caf9;
      padding-top: 20px;
    }
    .record-card {
      background: #ffffff;
      padding: 20px;
      margin-bottom: 25px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border: 1px solid #cce7f6;
    }
    body.dark .record-card {
      background: #2d2d2d;
      border-color: #444;
    }
    .record-card h4 {
      margin: 0 0 15px;
      color: #0077b6;
    }
    .delete-btn {
      background: #d32f2f;
      color: white;
      padding: 8px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .delete-btn:hover {
      background: #b71c1c;
    }
    body.dark .delete-btn {
      background: #b71c1c;
    }
  </style>
</head>
<body>
  <h2>bet Calculator By Super #22.5.68</h2>
  <div class="button-group">
    <button onclick="toggleDarkMode()">üåì ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô / ‡∏™‡∏ß‡πà‡∏≤‡∏á</button>
  </div>
  <div class="profile-buttons">
    <button onclick="setProfile('1')" id="btnP1">1</button>
    <button onclick="setProfile('2')" id="btnP2">2</button>
    <button onclick="setProfile('3')" id="btnP3">3</button>
    <button onclick="setProfile('4')" id="btnP4">4</button>
    <button onclick="setProfile('5')" id="btnP5">5</button>
    <button onclick="setProfile('6')" id="btnP6">6</button>
  </div>
  <div id="profileTitle" style="text-align:center; font-weight:bold; font-size:1.1em; margin-bottom:10px;">
    ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà: 1
  </div>
  <form>
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡πá‡∏ö</th>
          <th>‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏∏‡∏ô</th>
          <th>‡πÇ‡∏ö‡∏ô‡∏±‡∏™</th>
          <th>‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥</th>
          <th>‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏ó‡∏á</th>
          <th>‡πÑ‡∏î‡πâ+‡πÇ‡∏ö‡∏ô‡∏±‡∏™(‡∏≠‡∏µ‡∏Å‡∏ù‡∏±‡πà‡∏á)</th>
          <th>‡∏Å‡∏≥‡πÑ‡∏£</th>
          <th>‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>‚ù∂</td>
          <td><input id="name1" placeholder="‡πÄ‡∏ä‡πà‡∏ô sbobet" oninput="saveForm()" /></td>
          <td><input type="number" id="fund1" oninput="saveForm()" /></td>
          <td class="bonus-group">
            <select id="bonus1" onchange="saveForm()">
              <option value="0">‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏ö‡∏ô‡∏±‡∏™</option>
              <option value="0.03">3%</option>
              <option value="0.03inc">3% (‡∏£‡∏ß‡∏°‡πÅ‡∏ó‡∏á)</option>
              <option value="-0.05">‡∏¢‡∏≠‡∏î‡πÄ‡∏™‡∏µ‡∏¢ 5%</option>
              <option value="-0.06">‡∏¢‡∏≠‡∏î‡πÄ‡∏™‡∏µ‡∏¢ 6%</option>
              <option value="-0.5">‡∏¢‡∏≠‡∏î‡πÄ‡∏™‡∏µ‡∏¢ 50%</option>
            </select>
            <div class="bonus-value" id="bonus1_value">-</div>
          </td>
          <td><input type="number" id="odd1" oninput="saveForm()" />
            <div class="diff-note" id="diffNote1">-</div></td>
          <td><span id="result1_afterbet">-</span></td>
          <td><span id="result1_total">-</span></td>
          <td><span id="profit1">-</span></td>
          <td><span id="profit1_balanced">-</span></td>
        </tr>
        <tr>
          <td>‚ù∑</td>
          <td><input id="name2" placeholder="‡πÄ‡∏ä‡πà‡∏ô sanook" oninput="saveForm()" /></td>
          <td><input type="number" id="fund2" oninput="saveForm()" /></td>
          <td class="bonus-group">
            <select id="bonus2" onchange="saveForm()">
              <option value="0">‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏ö‡∏ô‡∏±‡∏™</option>
              <option value="0.03">3%</option>
              <option value="0.03inc">3% (‡∏£‡∏ß‡∏°‡πÅ‡∏ó‡∏á)</option>
              <option value="-0.05">‡∏¢‡∏≠‡∏î‡πÄ‡∏™‡∏µ‡∏¢ 5%</option>
              <option value="-0.06">‡∏¢‡∏≠‡∏î‡πÄ‡∏™‡∏µ‡∏¢ 6%</option>
              <option value="-0.5">‡∏¢‡∏≠‡∏î‡πÄ‡∏™‡∏µ‡∏¢ 50%</option>
            </select>
            <div class="bonus-value" id="bonus2_value">-</div>
          </td>
          <td><input type="number" id="odd2" oninput="saveForm()" />
            <div class="diff-note" id="diffNote2">-</div></td>
          <td><span id="result2_afterbet">-</span></td>
          <td><span id="result2_total">-</span></td>
          <td><span id="profit2">-</span></td>
          <td><span id="profit2_balanced">-</span></td>
        </tr>
      </tbody>
    </table>
  </form>

  <div id="totalAllFund">‡∏£‡∏ß‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏∏‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: -</div>

  <div class="button-group">
    <button onclick="calculate()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
    <button onclick="suggestBalance()">‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Å‡∏≥‡πÑ‡∏£</button>
    <button onclick="saveRecord()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
    <button onclick="clearForm()">Clear</button>
    <button onclick="clearSavedRecords()">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
  </div>

  <div id="recommendation">-</div>

  <div id="savedRecords">
    <h3>üìÇ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ</h3>
    <div id="recordsList"></div>
  </div>

  <!-- üîΩ JavaScript ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î -->
  <script>
    let currentProfile = "1";
    let calcTimer;

    function toggleDarkMode() {
      document.body.classList.toggle("dark");
      localStorage.setItem("theme", document.body.classList.contains("dark") ? "dark" : "light");
    }

    function setProfile(id) {
      currentProfile = id;
      document.getElementById("profileTitle").textContent = "‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà: " + id;
      for (let i = 1; i <= 6; i++) {
        document.getElementById("btnP" + i).classList.remove("active");
      }
      document.getElementById("btnP" + id).classList.add("active");
      loadForm();
      renderRecords();
    }

    function parseBonusRate(val) {
      return val === "0.03inc" ? 0.03 : parseFloat(val);
    }
    function isBonusIncluded(val) {
      return val === "0.03inc";
    }

    function saveForm() {
      const form = {
        name1: name1.value, name2: name2.value,
        fund1: fund1.value, fund2: fund2.value,
        odd1: odd1.value, odd2: odd2.value,
        bonus1: bonus1.value, bonus2: bonus2.value
      };
      localStorage.setItem("form_profile_" + currentProfile, JSON.stringify(form));
      clearTimeout(calcTimer);
      calcTimer = setTimeout(() => calculate(), 100);
    }

    function loadForm() {
      const saved = JSON.parse(localStorage.getItem("form_profile_" + currentProfile));
      if (!saved) return;
      for (let key in saved) {
        const el = document.getElementById(key);
        if (el) el.value = saved[key];
      }
      updateBonusDisplay();
      calculate();
    }

    function updateBonusDisplay() {
      const f1 = parseFloat(fund1.value) || 0;
      const f2 = parseFloat(fund2.value) || 0;
      const r1 = parseBonusRate(bonus1.value);
      const r2 = parseBonusRate(bonus2.value);
      const cap1 = bonus1.value === "-0.5" ? 2888 : Infinity;
      const cap2 = bonus2.value === "-0.5" ? 2888 : Infinity;
      const b1 = isBonusIncluded(bonus1.value) ? f1 * r1 : Math.min(f1 * Math.abs(r1), cap1);
      const b2 = isBonusIncluded(bonus2.value) ? f2 * r2 : Math.min(f2 * Math.abs(r2), cap2);
      bonus1_value.textContent = Math.floor(b1);
      bonus2_value.textContent = Math.floor(b2);
      totalAllFund.textContent = "‡∏£‡∏ß‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏∏‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: " + Math.floor(f1 + f2) + " ‡∏ö‡∏≤‡∏ó";
    }

    function calculate(f1adj = 0, f2adj = 0, balanced = false) {
      const f1 = (parseFloat(fund1.value) || 0) + f1adj;
      const f2 = (parseFloat(fund2.value) || 0) + f2adj;
      const o1 = parseFloat(odd1.value) || 0;
      const o2 = parseFloat(odd2.value) || 0;
      const r1 = parseBonusRate(bonus1.value);
      const r2 = parseBonusRate(bonus2.value);
      const isL1 = bonus1.value.startsWith("-");
      const isL2 = bonus2.value.startsWith("-");
      const isI1 = isBonusIncluded(bonus1.value);
      const isI2 = isBonusIncluded(bonus2.value);
      const b1 = isI1 ? f1 * r1 : Math.min(f1 * Math.abs(r1), bonus1.value === "-0.5" ? 2888 : Infinity);
      const b2 = isI2 ? f2 * r2 : Math.min(f2 * Math.abs(r2), bonus2.value === "-0.5" ? 2888 : Infinity);
      const d1 = o1 < 1 ? Math.abs(Math.floor(f1 * o1 - f1)) : 0;
      const d2 = o2 < 1 ? Math.abs(Math.floor(f2 * o2 - f2)) : 0;
      const a1 = o1 < 1 ? f1 * 2 : isI1 ? (f1 + b1) * o1 : f1 * o1;
      const a2 = o2 < 1 ? f2 * 2 : isI2 ? (f2 + b2) * o2 : f2 * o2;
      const bw1 = (isL1 || isI1 ? Math.min(f2 * Math.abs(r2), bonus2.value === "-0.5" ? 2888 : Infinity) : b1 + Math.min(f2 * Math.abs(r2), bonus2.value === "-0.5" ? 2888 : Infinity)) + d2;
      const bw2 = (isL2 || isI2 ? Math.min(f1 * Math.abs(r1), bonus1.value === "-0.5" ? 2888 : Infinity) : b2 + Math.min(f1 * Math.abs(r1), bonus1.value === "-0.5" ? 2888 : Infinity)) + d1;
      const t1 = a1 + bw1;
      const t2 = a2 + bw2;
      const tf = f1 + f2;
      const p1 = t1 - tf;
      const p2 = t2 - tf;
      result1_afterbet.textContent = Math.floor(a1);
      result2_afterbet.textContent = Math.floor(a2);
      result1_total.textContent = Math.floor(t1);
      result2_total.textContent = Math.floor(t2);
      profit1.textContent = Math.floor(p1);
      profit2.textContent = Math.floor(p2);
      profit1_balanced.textContent = balanced ? Math.floor(p1) : "-";
      profit2_balanced.textContent = balanced ? Math.floor(p2) : "-";
      diffNote1.textContent = o1 < 1 ? `‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≥‡∏ï‡∏¥‡∏î‡∏•‡∏ö ${d1} ‡∏ö‡∏≤‡∏ó` : "";
      diffNote2.textContent = o2 < 1 ? `‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≥‡∏ï‡∏¥‡∏î‡∏•‡∏ö ${d2} ‡∏ö‡∏≤‡∏ó` : "";
      updateBonusDisplay();
    }

    function suggestBalance() {
      const p1 = parseFloat(profit1.textContent) || 0;
      const p2 = parseFloat(profit2.textContent) || 0;
      const move = Math.abs(p1 - p2) / 2;
      calculate(p1 < p2 ? move : 0, p2 < p1 ? move : 0, true);
      recommendation.textContent = `‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏ó‡∏á‡∏ó‡∏µ‡πà "${p1 > p2 ? name2.value || "‡∏ù‡∏±‡πà‡∏á 2" : name1.value || "‡∏ù‡∏±‡πà‡∏á 1"}" ‡∏≠‡∏µ‡∏Å‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì ${Math.floor(move)} ‡∏ö‡∏≤‡∏ó ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡πÑ‡∏£‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ô`;
    }

    function clearForm() {
      fund1.value = "";
      fund2.value = "";
      odd1.value = "";
      odd2.value = "";
      bonus1.value = "0";
      bonus2.value = "0";
      [
        "result1_afterbet", "result2_afterbet",
        "result1_total", "result2_total",
        "profit1", "profit2",
        "profit1_balanced", "profit2_balanced",
        "bonus1_value", "bonus2_value",
        "totalAllFund", "recommendation",
        "diffNote1", "diffNote2"
      ].forEach(id => document.getElementById(id).textContent = "-");
      saveForm();
    }

    function saveRecord() {
      const record = {
        timestamp: new Date().toLocaleString("th-TH"),
        name1: name1.value || "‡∏ù‡∏±‡πà‡∏á 1",
        fund1: fund1.value || "0",
        bonus1: bonus1_value.textContent || "0",
        odd1: odd1.value || "0",
        afterbet1: result1_afterbet.textContent || "0",
        total1: result1_total.textContent || "0",
        profit1: profit1.textContent || "0",
        balanced1: profit1_balanced.textContent || "0",
        name2: name2.value || "‡∏ù‡∏±‡πà‡∏á 2",
        fund2: fund2.value || "0",
        bonus2: bonus2_value.textContent || "0",
        odd2: odd2.value || "0",
        afterbet2: result2_afterbet.textContent || "0",
        total2: result2_total.textContent || "0",
        profit2: profit2.textContent || "0",
        balanced2: profit2_balanced.textContent || "0"
      };
      const key = "savedRecords_" + currentProfile;
      const records = JSON.parse(localStorage.getItem(key) || "[]");
      records.unshift(record);
      localStorage.setItem(key, JSON.stringify(records));
      renderRecords();
    }

    function renderRecords() {
      const key = "savedRecords_" + currentProfile;
      const records = JSON.parse(localStorage.getItem(key) || "[]");
      recordsList.innerHTML = "";
      if (records.length === 0) {
        recordsList.innerHTML = "<p style='text-align:center'>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>";
        return;
      }
      records.forEach((r, i) => {
        const html = `
          <div class="record-card">
            <h4>üìå ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å: ${r.timestamp}</h4>
            <table style="width:100%; border-collapse:collapse;">
              <thead style="background:#caf0f8;">
                <tr>
                  <th>‡∏ù‡∏±‡πà‡∏á</th><th>‡∏ó‡∏∏‡∏ô</th><th>‡πÇ‡∏ö‡∏ô‡∏±‡∏™</th><th>‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥</th>
                  <th>‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏ó‡∏á</th><th>‡πÑ‡∏î‡πâ+‡πÇ‡∏ö‡∏ô‡∏±‡∏™</th><th>‡∏Å‡∏≥‡πÑ‡∏£</th><th>‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>${r.name1}</td><td>${r.fund1}</td><td>${r.bonus1}</td><td>${r.odd1}</td>
                  <td>${r.afterbet1}</td><td>${r.total1}</td><td>${r.profit1}</td><td>${r.balanced1}</td>
                </tr>
                <tr>
                  <td>${r.name2}</td><td>${r.fund2}</td><td>${r.bonus2}</td><td>${r.odd2}</td>
                  <td>${r.afterbet2}</td><td>${r.total2}</td><td>${r.profit2}</td><td>${r.balanced2}</td>
                </tr>
              </tbody>
            </table>
            <div style="text-align:right; margin-top:10px;">
              <button class="delete-btn" onclick="deleteRecord(${i})">üóëÔ∏è ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ</button>
            </div>
          </div>
        `;
        recordsList.insertAdjacentHTML('beforeend', html);
      });
    }

    function deleteRecord(index) {
      const key = "savedRecords_" + currentProfile;
      let records = JSON.parse(localStorage.getItem(key) || "[]");
      records.splice(index, 1);
      localStorage.setItem(key, JSON.stringify(records));
      renderRecords();
    }

    function clearSavedRecords() {
      if (!confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ?")) return;
      localStorage.removeItem("savedRecords_" + currentProfile);
      renderRecords();
    }

    window.onload = () => {
      if (localStorage.getItem("theme") === "dark") document.body.classList.add("dark");
      setProfile("1");
    };
  </script>
</body>
</html>

